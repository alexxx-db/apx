---
title: Project configuration
description: Project configuration reference for apx projects
---

## pyproject.toml Configuration

Below is an example configuration for an apx project. This shows the essential apx-specific settings and UV index configuration.

```toml
[project]
name = "charming-aurora"
dynamic = ["version"]
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "fastapi>=0.119.0",
    "pydantic-settings>=2.11.0",
    "uvicorn>=0.37.0",
    "databricks-sdk>=0.74.0",
]

[dependency-groups]
dev = [
    "apx>=0.2.1",
]

[tool.apx.metadata]
app-name = "charming-aurora"
app-slug = "charming_aurora"
app-entrypoint = "charming_aurora.backend.app:app"
api-prefix = "/api"
metadata-path = "src/charming_aurora/_metadata.py"

[tool.apx.ui]
root = "src/charming_aurora/ui"

[tool.apx.ui.registries]
"@animate-ui" = "https://animate-ui.com/r/{name}.json"
"@ai-elements" = "https://registry.ai-sdk.dev/{name}.json"
"@svgl" = "https://svgl.app/r/{name}.json"

[tool.uv]

[[tool.uv.index]]
name = "apx-index"
url = "https://databricks-solutions.github.io/apx/simple"

[tool.uv.sources.apx]
index = "apx-index"
```

## Configuration Sections

### `[tool.apx.metadata]`

- **app-name**: The display name of your application
- **app-slug**: The Python package name (snake_case)
- **app-entrypoint**: The FastAPI application entrypoint
- **api-prefix**: The URL prefix for API endpoints
- **metadata-path**: Path to the generated metadata file

### `[tool.apx.ui]`

- **root**: The root directory for your UI code

### `[tool.apx.ui.registries]`

Custom component registries that can be used with `apx add` command. Each registry URL should contain a `{name}` placeholder that will be replaced with the component name.

Example:

```toml
[tool.apx.ui.registries]
"@animate-ui" = "https://animate-ui.com/r/{name}.json"
```

This allows you to run:

```bash
apx add @animate-ui/fade-in
```

### `[tool.apx.dev]`

Development server configuration options.

- **log_config_file**: Path to an external Python logging configuration file (relative to pyproject.toml). Mutually exclusive with `[tool.apx.dev.logging]`.

Example:

```toml
[tool.apx.dev]
log_config_file = "logging_config.py"
```

### `[tool.apx.dev.logging]`

Inline Python logging configuration using the standard [logging.dictConfig](https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig) format. This configuration is **merged** with the default uvicorn logging setup, allowing you to add custom loggers or override specific settings while preserving the standard uvicorn logging behavior.

When you specify loggers, formatters, or handlers, they are merged with the defaults:

- New entries are added
- Existing entries with the same name are overridden

Example with inline tables:

```toml
[tool.apx.dev.logging]
version = 1
disable_existing_loggers = false

[tool.apx.dev.logging.formatters]
default = { format = "%(levelname)s %(name)s %(message)s" }

[tool.apx.dev.logging.handlers]
console = { class = "logging.StreamHandler", formatter = "default", stream = "ext://sys.stdout" }

[tool.apx.dev.logging.loggers]
"uvicorn" = { level = "DEBUG", handlers = ["console"], propagate = false }
"myapp"   = { level = "DEBUG", handlers = ["console"], propagate = false }
```

**Default loggers provided by apx:**

| Logger           | Level | Description               |
| ---------------- | ----- | ------------------------- |
| `uvicorn`        | INFO  | Main uvicorn logger       |
| `uvicorn.error`  | INFO  | Uvicorn error logger      |
| `uvicorn.access` | INFO  | HTTP access logs          |
| `{app_slug}`     | DEBUG | Your application's logger |

**Configuration options:**

- **version**: Must be `1` (required by Python's dictConfig)
- **disable_existing_loggers**: Whether to disable existing loggers (default: `false`)
- **formatters**: Log message formatters
- **handlers**: Output handlers (console, file, etc.)
- **loggers**: Logger configurations by name
- **root**: Root logger configuration

<Callout type="info">
  You cannot use both `log_config_file` and `[tool.apx.dev.logging]` at the same
  time.
</Callout>
